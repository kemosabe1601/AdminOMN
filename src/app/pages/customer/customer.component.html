<div class="container-fluid">
  <app-page-title
    title="Customer Management"
    [breadcrumbItems]="breadCrumbItems"
  ></app-page-title>

  <div class="row">
    <div class="col-md-8">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title text-primary">Challenger list</h4>
          <p class="card-sub-title">
            (Each of the category set here will be contained in a home set).
          </p>
          <div class="row">
            <div class="chat-leftsidebar col-md-5">
              <div class="">
                <div class="chat-leftsidebar-nav py-4">
                  <ul
                    ngbNav
                    #nav="ngbNav"
                    [activeId]="1"
                    class="nav-pills nav-justified"
                  >
                    <li [ngbNavItem]="1">
                      <a ngbNavLink>
                        <i class="bx bx-chat font-size-20 d-sm-none"></i>
                        <span class="d-none d-sm-block">Recent Chat</span>
                      </a>
                      <ng-template ngbNavContent>
                        <div>
                          <perfect-scrollbar
                            style="position: relative; height: 580px;"
                          >
                            <ul class="list-unstyled chat-list">
                              <li class="" *ngFor="let data of chatData">
                                <a
                                  href="javascript: void(0);"
                                  (click)="chatUsername(data.name)"
                                >
                                  <div class="media">
                                    <div class="align-self-center mr-3">
                                      <i
                                        class="mdi mdi-circle text-{{
                                          data.color
                                        }} font-size-10"
                                      ></i>
                                    </div>
                                    <div
                                      class="align-self-center mr-3"
                                      *ngIf="data.image"
                                    >
                                      <img
                                        src="{{ data.image }}"
                                        class="rounded-circle avatar-xs"
                                        alt=""
                                      />
                                    </div>
                                    <div
                                      class="avatar-xs align-self-center mr-3"
                                      *ngIf="!data.image"
                                    >
                                      <span
                                        class="avatar-title rounded-circle bg-soft-primary text-primary"
                                      >
                                        {{ data.name.charAt(0) }}
                                      </span>
                                    </div>
                                    <div class="media-body overflow-hidden">
                                      <h5
                                        class="text-truncate font-size-14 mb-1"
                                      >
                                        {{ data.name }}
                                      </h5>
                                      <p class="text-truncate mb-0">
                                        {{ data.message }}
                                      </p>
                                    </div>
                                    <div class="font-size-11">
                                      {{ data.time }}
                                    </div>
                                  </div>
                                </a>
                              </li>
                            </ul>
                          </perfect-scrollbar>
                        </div>
                      </ng-template>
                    </li>
                  </ul>
                  <div [ngbNavOutlet]="nav" class="my-4"></div>
                </div>
              </div>
            </div>
            <div class="col-md-7 user-chat">
              <div class="card">
                <div class="p-4 border-bottom">
                  <div class="row">
                    <div class="col-md-4 col-9">
                      <h5 class="font-size-15 mb-1">Steven Franklin</h5>
                      <p class="text-muted mb-0">
                        <i
                          class="mdi mdi-circle text-success align-middle mr-1"
                        ></i>
                        Active now
                      </p>
                    </div>
                    <div class="col-md-8 col-3">
                      <ul class="list-inline user-chat-nav text-right mb-0">
                        <li class="list-inline-item d-none d-sm-inline-block">
                          <div class="dropdown">
                            <button
                              class="btn nav-btn dropdown-toggle"
                              type="button"
                              data-toggle="dropdown"
                              aria-haspopup="true"
                              aria-expanded="false"
                            >
                              <i class="bx bx-search-alt-2"></i>
                            </button>
                            <div
                              class="dropdown-menu dropdown-menu-right dropdown-menu-md"
                            >
                              <form class="p-3">
                                <div class="form-group m-0">
                                  <div class="input-group">
                                    <input
                                      type="text"
                                      class="form-control"
                                      placeholder="Search ..."
                                      aria-label="Recipient's username"
                                    />
                                    <div class="input-group-append">
                                      <button
                                        class="btn btn-primary"
                                        type="submit"
                                      >
                                        <i class="mdi mdi-magnify"></i>
                                      </button>
                                    </div>
                                  </div>
                                </div>
                              </form>
                            </div>
                          </div>
                        </li>
                        <li class="list-inline-item d-none d-sm-inline-block">
                          <div class="dropdown" ngbDropdown>
                            <button
                              class="btn nav-btn dropdown-toggle"
                              type="button"
                              data-toggle="dropdown"
                              ngbDropdownToggle
                              aria-haspopup="true"
                              aria-expanded="false"
                            >
                              <i class="bx bx-cog"></i>
                            </button>
                            <div
                              class="dropdown-menu dropdown-menu-right"
                              ngbDropdownMenu
                            >
                              <a
                                class="dropdown-item"
                                href="javascript: void(0);"
                                >View Profile</a
                              >
                              <a
                                class="dropdown-item"
                                href="javascript: void(0);"
                                >Clear chat</a
                              >
                              <a
                                class="dropdown-item"
                                href="javascript: void(0);"
                                >Muted</a
                              >
                              <a
                                class="dropdown-item"
                                href="javascript: void(0);"
                                >Delete</a
                              >
                            </div>
                          </div>
                        </li>

                        <li class="list-inline-item">
                          <div class="dropdown" ngbDropdown>
                            <button
                              class="btn nav-btn dropdown-toggle"
                              type="button"
                              data-toggle="dropdown"
                              ngbDropdownToggle
                              aria-haspopup="true"
                              aria-expanded="false"
                            >
                              <i class="bx bx-dots-horizontal-rounded"></i>
                            </button>
                            <div
                              class="dropdown-menu dropdown-menu-right"
                              ngbDropdownMenu
                            >
                              <a
                                class="dropdown-item"
                                href="javascript: void(0);"
                                >Action</a
                              >
                              <a
                                class="dropdown-item"
                                href="javascript: void(0);"
                                >Another action</a
                              >
                              <a
                                class="dropdown-item"
                                href="javascript: void(0);"
                                >Something else</a
                              >
                            </div>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>

                <div>
                  <div class="chat-conversation p-3">
                    <perfect-scrollbar style="height: 470px;">
                      <ul class="list-unstyled">
                        <li>
                          <div class="chat-day-title">
                            <span class="title">Today</span>
                          </div>
                        </li>
                        <li
                          *ngFor="let data of chatMessagesData"
                          [ngClass]="{
                            right: data.align === 'right'
                          }"
                        >
                          <div class="conversation-list">
                            <div class="dropdown" ngbDropdown>
                              <a
                                class="dropdown-toggle"
                                href="javascript: void(0);"
                                role="button"
                                ngbDropdownToggle
                              >
                                <i class="bx bx-dots-vertical-rounded"></i>
                              </a>
                              <div class="dropdown-menu" ngbDropdownMenu>
                                <a
                                  class="dropdown-item"
                                  href="javascript: void(0);"
                                  >Copy</a
                                >
                                <a
                                  class="dropdown-item"
                                  href="javascript: void(0);"
                                  >Save</a
                                >
                                <a
                                  class="dropdown-item"
                                  href="javascript: void(0);"
                                  >Forward</a
                                >
                                <a
                                  class="dropdown-item"
                                  href="javascript: void(0);"
                                  >Delete</a
                                >
                              </div>
                            </div>
                            <div class="ctext-wrap">
                              <div class="conversation-name">
                                {{ data.name }}
                              </div>
                              <p>
                                {{ data.message }}
                              </p>
                              <p class="chat-time mb-0">
                                <i
                                  class="bx bx-time-five align-middle mr-1"
                                ></i>
                                {{ data.time }}
                              </p>
                            </div>
                          </div>
                        </li>
                      </ul>
                    </perfect-scrollbar>
                  </div>
                  <div class="p-3 chat-input-section">
                    <form
                      (ngSubmit)="messageSave()"
                      [formGroup]="formData"
                      class="row"
                    >
                      <div class="col">
                        <div class="position-relative">
                          <input
                            type="text"
                            class="form-control chat-input"
                            placeholder="Enter Message..."
                            formControlName="message"
                            [ngClass]="{
                              'is-invalid': chatSubmit && form.message.errors
                            }"
                          />
                          <div
                            *ngIf="chatSubmit && form.message.errors"
                            class="invalid-feedback"
                          >
                            <span *ngIf="form.message.errors.required"
                              >This value is required.</span
                            >
                          </div>
                          <div class="chat-input-links">
                            <ul class="list-inline mb-0">
                              <li class="list-inline-item">
                                <a
                                  href="javascript: void(0);"
                                  data-toggle="tooltip"
                                  placement="top"
                                  ngbTooltip="Emoji"
                                  ><i class="mdi mdi-emoticon-happy-outline"></i
                                ></a>
                              </li>
                              <li class="list-inline-item">
                                <a
                                  href="javascript: void(0);"
                                  data-toggle="tooltip"
                                  placement="top"
                                  ngbTooltip="Images"
                                  ><i class="mdi mdi-file-image-outline"></i
                                ></a>
                              </li>
                              <li class="list-inline-item">
                                <a
                                  href="javascript: void(0);"
                                  data-toggle="tooltip"
                                  placement="top"
                                  ngbTooltip="Add Files"
                                  ><i class="mdi mdi-file-document-outline"></i
                                ></a>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                      <div class="col-auto">
                        <button
                          type="submit"
                          class="btn btn-primary btn-rounded chat-send w-md"
                        >
                          <span class="d-none d-sm-inline-block mr-2"
                            >Send</span
                          >
                          <i class="mdi mdi-send"></i>
                        </button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card">
        <div class="card-body">
          <div class="user-chat">
            <div class="p-4 border-bottom">
              <div class="row">
                <div class="col-md-8">
                  <ul class="list-inline user-chat-nav text-right mb-0">
                    <li class="list-inline-item">
                      <button
                        class="btn btn-success btn-rounded"
                        type="button"
                        (click)="onCreate()"
                      >
                        User Search
                      </button>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div>
              <div class="col-lg-5 align-self-center" style="max-width: 100%;">
                <div class="text-lg-center mt-4">
                  <div class="row">
                    <div class="col-4">
                      <div>
                        <p class="text-muted text-truncate mb-2">
                          Age
                        </p>
                        <h5 class="mb-0">20 years old</h5>
                      </div>
                    </div>
                    <div class="col-4">
                      <div>
                        <p class="text-muted text-truncate mb-2">
                          Name
                        </p>
                        <h5 class="mb-0">Name 1</h5>
                      </div>
                    </div>
                    <div class="col-4">
                      <div>
                        <p class="text-muted text-truncate mb-2">Gender</p>
                        <h5 class="mb-0">Male</h5>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-5 align-self-center" style="max-width: 100%;">
                <div class="text-lg-center mt-4 upload">
                  <h3>Upload</h3>
                  <div class="table-responsive">
                    <ngx-datatable
                      class="material"
                      [rows]="rows"
                      [loadingIndicator]="loadingIndicator"
                      [columnMode]="ColumnMode.force"
                      [headerHeight]="50"
                      [footerHeight]="50"
                      [rowHeight]="50"
                      [limit]="5"
                    >
                      <ngx-datatable-column name="Date">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                          {{ localeDate(row.date) | date: "shortTime" }}
                        </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="Program">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                          {{ row.program }}
                        </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="ID">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                          {{ row.email }}
                        </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="Status">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                          {{ row.status }}
                        </ng-template>
                      </ngx-datatable-column>
                    </ngx-datatable>
                  </div>
                </div>
              </div>
              <div class="col-lg-5 align-self-center" style="max-width: 100%;">
                <div class="text-lg-center mt-4">
                  <h3>Transaction Detail</h3>
                  <div class="table-responsive">
                    <ngx-datatable
                      class="material"
                      [rows]="trans"
                      [loadingIndicator]="loadingIndicator"
                      [columnMode]="ColumnMode.force"
                      [headerHeight]="50"
                      [footerHeight]="50"
                      [rowHeight]="50"
                      [limit]="5"
                    >
                      <ngx-datatable-column name="Membership">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                          {{ row.memberShip }}
                        </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="Trans Date">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                          {{
                            localeDate(row.transactionDate) | date: "shortTime"
                          }}
                        </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="Trans Amount">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                          {{ row.amount }}
                        </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="Status">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                          {{ row.status }}
                        </ng-template>
                      </ngx-datatable-column>
                    </ngx-datatable>
                  </div>
                </div>
              </div>
              <div class="col-lg-5 align-self-center" style="max-width: 100%;">
                <div class="text-lg-center mt-4">
                  <div class="row">
                    <div class="col-md-6">
                      <button class="btn btn-warning" type="button">
                        Type
                      </button>
                    </div>
                    <div class="col-md-6">
                      <button class="btn btn-danger" type="button">
                        End Chat
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- container-fluid -->
